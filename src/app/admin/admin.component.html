<div class="container">
  <div class="form-title">
    <h1 class="title">Liste des Utilisateurs</h1>
    <div class="inscrits">
      <p>Nombre d'inscrits : {{ users.length }}</p>
    </div>
  </div>
  <div class="list">
    <ul class="list-users">
      <li *ngFor="let user of users">
        <div class="user">
          <div class="name">{{ user.name }} {{ user.firstname }}</div>

          <div>
            <select
              class="select-style"
              [(ngModel)]="user.role.type"
              (change)="onRoleChange(user, user.role.type)"
            >
              <option [ngValue]="user.role.type">{{ user.role.type }}</option>
              <option *ngIf="user.role.type === 'ADMIN'" value="USER" id="user">
                USER
              </option>
              <option
                *ngIf="user.role.type === 'USER'"
                value="ADMIN"
                id="admin"
              >
                ADMIN
              </option>
            </select>
          </div>
        </div>
        <div>
          <button class="button-plus" (click)="moreInfo(user)">+</button>
        </div>
      </li>
    </ul>
    <div *ngIf="isMoreInfo" class="moreInfo" (click)="closeInfo()">

      <img [src]="'assets/Avatar/'+selectedUser.avatar" alt="avatar" />
      <div class="text"><span class="text-name" id="username">{{selectedUser.username}}</span>
      <span class="text-name" id="name">{{selectedUser.name}}</span>
      <span class="text-name" id="firstname">{{selectedUser.firstname}}</span>
      <span class="text-name" id="email">{{selectedUser.email}}</span>
      <span class="text-name" id="birthday">{{selectedUser.birthday}}</span>
     </div>
     <button (click)="deleteUser(selectedUser.id)">Supprimer l'utilisateur</button>

  </div>
  <div class="contact-img">
      <img src="/assets/Admin/adminimage.jpg" alt="">
    </div>
  </div>
</div>
